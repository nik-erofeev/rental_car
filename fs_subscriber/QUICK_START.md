# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç FastStream Subscriber

## –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

‚úÖ **Dockerfile** - –æ–±—Ä–∞–∑ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ FastStream —Å–µ—Ä–≤–∏—Å–æ–≤
‚úÖ **docker-compose.yml** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
‚úÖ **Makefile** - –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚úÖ **run.sh** - bash —Å–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º

## üèÉ‚Äç‚ôÇÔ∏è –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
docker-compose up -d

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ FastStream
docker-compose up -d fs-broker fs-docs
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∑–∞–ø—É—Å–∫

```bash
cd fs_subscriber

# –°–æ–∑–¥–∞—Ç—å .env –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp env.example .env

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
./run.sh

# –ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏
./run.sh broker    # –¢–æ–ª—å–∫–æ –±—Ä–æ–∫–µ—Ä
./run.sh docs      # –¢–æ–ª—å–∫–æ Swagger
```

## üéØ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| **fs-broker** | - | FastStream –±—Ä–æ–∫–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π |
| **fs-docs** | 8081 | Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
| **kafka** | 9092/29092 | Kafka –±—Ä–æ–∫–µ—Ä |

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
make fs-broker      # –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—Ä–æ–∫–µ—Ä
make fs-docs        # –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
make fs-logs        # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
make fs-status      # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

# –í –ø–∞–ø–∫–µ fs_subscriber
./run.sh broker     # –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—Ä–æ–∫–µ—Ä
./run.sh docs       # –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
./run.sh logs       # –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏
./run.sh status     # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`:

```bash
FS__FASTSTREAM__KAFKA_URL=kafka:9092
FS__FASTSTREAM__SUBJECT=user-register
FS__LOGGING__LOG_LEVEL=info
```

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

- **Swagger UI**: http://localhost:8081
- **Kafka (–ª–æ–∫–∞–ª—å–Ω–æ)**: localhost:29092
- **Kafka (Docker)**: kafka:9092

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ Kafka
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Kafka
docker-compose ps kafka

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Kafka
docker-compose restart kafka
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–Ω—è—Ç—ã–µ –ø–æ—Ä—Ç—ã
lsof -i :8081

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å
docker-compose stop fs-docs
```

### –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
```bash
docker-compose build fs-broker fs-docs
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [README.md](README.md) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- [INTEGRATION.md](INTEGRATION.md) - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º
- [Makefile](Makefile) - –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ FastStream –±—Ä–æ–∫–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –ø–æ—Ä—Ç—É 8081
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kafka
- ‚úÖ Hot reload –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
